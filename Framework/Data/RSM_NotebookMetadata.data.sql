/*
Facilitates creation of metadata for orchestration of notebooks.  Separate stored procedure call to be made for each zone that is needed (Convert, Ingest, Enrich, and Sanction)
*/
--TSA

--Ingest
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Activities'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Activities' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/Activities' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Overwrite Delta Lake',@PrimaryKeyColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_ActivitySubTypes'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'ActivitySubTypes' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/ActivitySubTypes' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Overwrite Delta Lake',@PrimaryKeyColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_ActivityTypes'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'ActivityTypes' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/ActivityTypes' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Overwrite Delta Lake',@PrimaryKeyColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Answers'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Answers' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/Answers' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Overwrite Delta Lake',@PrimaryKeyColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_AnswersHistory'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'AnswersHistory' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/AnswersHistory' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Merge Delta Lake',@PrimaryKeyColumns = 'ClientID, EngagementID, QuestionID, ValidFrom',@TimeStampColumns='ValidFrom';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Clients'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Clients' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/Clients' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Overwrite Delta Lake',@PrimaryKeyColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA_Rolling' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Engagements'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Engagements' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/Engagements' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Merge Delta Lake',@PrimaryKeyColumns = 'ID',@TimeStampColumns='LastUpdatedDate';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Ingest', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Files'  ,@NotebookOrder = '10'  ,@NumPartitions = '16' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Files' ,@ExternalDataPath = '' ,@RawDataPath = '/Raw/TSA/Files' ,@QueryZoneNotebookPath='/Framework/Query Zone Processing - Merge Delta Lake',@PrimaryKeyColumns = 'Id',@TimeStampColumns = 'updateddate';

--Enrich
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Activities'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Activities' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Enrich/Query Zone Processing - Enrich Activities',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_ActivitySubTypes'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'ActivitySubTypes' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Framework/Query Zone Processing - Enrich',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_ActivityTypes'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'ActivityTypes' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Framework/Query Zone Processing - Enrich',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Answers'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Answers' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Enrich/Query Zone Processing - Enrich Answers',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_AnswersHistory'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'AnswersHistory' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Enrich/Query Zone Processing - Enrich AnswersHistory',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Clients'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Clients' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Enrich/Query Zone Processing - Enrich Clients',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA_Rolling' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Engagements'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Engagements' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Append/Query Zone Processing - Append Engagements',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Enrich', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Files'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Files' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '/Framework/Query Zone Processing - Enrich',@PrimaryKeyColumns = '' ,@TimeStampColumns = '';

--Sanction
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Activities'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Activities' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_ActivitySubTypes'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'ActivitySubTypes' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_ActivityTypes'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'ActivityTypes' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Answers'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Answers' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_AnswersHistory'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'AnswersHistory' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Clients'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Clients' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
EXECUTE [dbo].[uspInsertNotebookMetadata] @NotebookZone = 'Sanction', @ContainerExecutionGroupName = 'TSA' ,@ContainerName = 'rsm' ,@DataFactoryName = 'TBD' ,@NotebookName = 'TSA_Files'  ,@NotebookOrder = '10'  ,@NumPartitions = '8' ,@QueryZoneSchemaName = 'rsm' ,@QueryZoneTableName = 'Files' ,@ExternalDataPath = '' ,@RawDataPath = '' ,@QueryZoneNotebookPath = '',@SanctionedZoneNotebookPath='/Framework/Sanctioned Zone Processing - Load Synapse DW';
